{% import "macros/menu.html.twig" as menu %}

<nav class="flex place-content-between py-8 gap-16">
    <div class="logo">
        {{ svg('image://empiric.svg')|raw }}
    </div>

    <div class="flex items-center gap-16" x-data="{open: false}">
        <div class="burger flex flex-col md:hidden" @click="console.log(open)">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-list" viewbox="0 0 16 16">
                <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
            </svg>
            <span class="text-xs">Menu</span>
        </div>

        <ul class="hidden md:flex gap-12 items-center content-center font-semibold uppercase" :class="'flex' || 'hidden'">
            {% if config.theme.dropdown.enabled %}
                {{ menu.nav_loop(pages) }}
            {% else %}
                {% for page in pages.children.visible %}
                    {% set current_page = (page.active or page.activeChild) ? 'selected' : '' %}
                    <li class="{{ current_page|e }}">
                        <a href="{{ page.url|e }}">
                            {% if page.header.icon %}
                                <i class="fa fa-{{ page.header.icon|e }}"></i>
                            {% endif %}
                            {{ page.menu|e }}
                        </a>
                    </li>
                {% endfor %}
            {% endif %}
            {% for mitem in maacros.nav_loop.site.menu %}
                <li>
                    <a href="{{ mitem.url|e }}">
                        {% if mitem.icon %}
                            <i class="fa fa-{{ mitem.icon|e }}"></i>
                        {% endif %}
                        {{ mitem.text|e }}
                    </a>
                </li>
            {% endfor %}
        </ul>

        {% if config.plugins.login.enabled and grav.user.username %}
            {% include 'partials/login-status.html.twig' %}
        {% endif %}
    </div>
</nav>
