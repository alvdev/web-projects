{% extends './partials/base.html.twig' %}

{% set options = {"items": {"@page.children": "/services"}, "order": {"by": "folder", "dir": "asc"}, "pagination": true} %} {% set my_collection = page.collection(options) %}

{% block content %}
    <main class="flex-1 prose prose-xl max-w-none">
        <section class="video torn relative after:absolute after:w-full after:h-8 after:-bottom-6">
            <div class="container">
                <div class="absolute flex items-end h-full align-text-bottom lg:w-1/2">
                    <h1 class="text-white text-5xl -mb-[2px] sm:text-6xl sm:-mb-[4px] md:text-8xl uppercase md:-mb-[10px] drop-shadow-[0px_0px_5px_rgba(0,0,0,1)]">
                        {{ page.title }}
                    </h1>
                </div>
            </div>
            <img class="m-0 h-[50vh] md:h-[75vh] w-full object-cover"
                 src="{{ url('theme://images/headers/tu-publicidad-aqui.webp') }}"
                 alt="">
        </section>
 
        <div class="container mt-24">
            {% for p in my_collection %}
                {% set isReverse = loop.index is even ? 'lg:text-right lg:flex-row-reverse [&_h2]:left-0 [&_h2]:text-left' : '[&_h2]:text-right' %}
                {% set gradient_dir = loop.index is even ? 'bg-gradient-to-r' : 'bg-gradient-to-l' %}
 
                <div class="flex flex-col lg:flex-row items-center lg:gap-16 lg:mt-20 lg:first:mt-0 {{ isReverse }}">
                    <div class="relative lg:w-1/2">
                        <img src="https://picsum.photos/800/600?random={{ loop.index + 1 }}"
                             alt=""
                             class="m-0 aspect-video w-full" />
                        <h2 class="absolute right-0 bottom-0 m-0 p-6 uppercase leading- text-white w-2/3 break-words text-5xl {{ gradient_dir }} from-red-900 to-transparent drop-shadow-sm">
                            {{ p.title | e }}
                        </h2>
                    </div>
                    <div class="lg:w-1/2">
                        {{ p.content | raw }}
                    </div>
                </div>
            {% endfor %}
        </div>
    </main>
{% endblock %}
